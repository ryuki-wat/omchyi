{"ast":null,"code":"import _asyncToGenerator from \"E:/Ionic+angular TOTAcademy/OMCHYI/omchyi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../shared/data.service\";\nimport * as i3 from \"@ionic-native/geolocation/ngx\";\nimport * as i4 from \"@angular/common\";\nfunction HomePage_ion_card_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 15)(1, \"ion-text\", 1)(2, \"h1\", 16);\n    i0.ɵɵtext(3, \"Cryptocurrency\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction HomePage_ion_card_52_ion_grid_1_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 24);\n  }\n  if (rf & 2) {\n    const c_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵpropertyInterpolate1(\"src\", \"./assets/icon_crypto/\", c_r1 == null ? null : c_r1.icon, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction HomePage_ion_card_52_ion_grid_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-grid\", 18)(1, \"ion-row\")(2, \"ion-col\", 19)(3, \"ion-card-content\");\n    i0.ɵɵtemplate(4, HomePage_ion_card_52_ion_grid_1_img_4_Template, 1, 2, \"img\", 20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"ion-col\", 6)(6, \"ion-text\", 1)(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"ion-col\", 21)(10, \"ion-text\", 1)(11, \"p\", 22);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"ion-text\", 23)(15, \"p\", 22);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const c_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", c_r1.icon);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(c_r1 == null ? null : c_r1.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 4, c_r1 == null ? null : c_r1.price));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", c_r1 == null ? null : c_r1.change, \" %\");\n  }\n}\nfunction HomePage_ion_card_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 15);\n    i0.ɵɵtemplate(1, HomePage_ion_card_52_ion_grid_1_Template, 17, 6, \"ion-grid\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.crypto);\n  }\n}\nexport let HomePage = /*#__PURE__*/(() => {\n  class HomePage {\n    constructor(navCtrl, ds, loadingController, geolocation) {\n      this.navCtrl = navCtrl;\n      this.ds = ds;\n      this.loadingController = loadingController;\n      this.geolocation = geolocation;\n      this.image = './assets/shapes.svg';\n      this.key = '798749b8e4527c3e069fb448b4419123';\n      this.slideOpts = {\n        initialSlide: 0,\n        speed: 1000,\n        autoplay: true\n      };\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        //หมุนก่อน subscribe\n        _this.loading = yield _this.loadingController.create({\n          message: 'กำลังโหลด...'\n        });\n        yield _this.loading.present();\n        _this.getCrypAndGold();\n      })();\n    }\n    // async ionViewWillEnter(){\n    //        //หมุนก่อน subscribe\n    //       this.loading=await this.loadingController.create\n    //     ({message:'กำลังโหลด...'});\n    //     await this.loading.present();\n    //      this.getCrypAndGold();\n    //   //  this.getCurrentLocation(); \n    //     }\n    getCrypAndGold() {\n      var _this2 = this;\n      //get news again\n      this.sub1 = this.ds.getCrypAndGold().subscribe(res => {\n        this.crypto = res[0];\n        //console.log(res[0])\n        this.crypto = [{\n          name: 'BTC/THB',\n          price: res[0].THB_BTC.last,\n          change: res[0].THB_BTC.percentChange,\n          icon: 'btc.png'\n        }, {\n          name: 'ETH/THB',\n          price: res[0].THB_ETH.last,\n          change: res[0].THB_ETH.percentChange,\n          icon: 'eth.png'\n        }, {\n          name: 'XRP/THB',\n          price: res[0].THB_XRP.last,\n          change: res[0].THB_XRP.percentChange,\n          icon: 'xrp.png'\n        }, {\n          name: 'BNB/THB',\n          price: res[0].THB_BNB.last,\n          change: res[0].THB_BNB.percentChange,\n          icon: 'bnb.png'\n        }, {\n          name: 'JFIN/THB',\n          price: res[0].THB_JFIN.last,\n          change: res[0].THB_JFIN.percentChange,\n          icon: 'jfin.png'\n        }];\n        //this.crypto=res[1].map((data: { last: number; percentChange: number; })=>({name:data.province,y:data.totalchum}));\n        //console.log(this.crypto)\n      }, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (error) {\n          //หายไปตอนerror\n          yield _this2.loading.dismiss(); //loading\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(), /*#__PURE__*/_asyncToGenerator(function* () {\n        //หายไปตอนสมบูรณ์\n        yield _this2.loading.dismiss();\n      }));\n    }\n    getCurrentLocation() {\n      this.geolocation.getCurrentPosition().then(position => {\n        this.lat = position.coords.latitude;\n        this.lon = position.coords.longitude;\n        //console.log(this.lat,this.lon)\n        this.getWeather();\n      }).catch(error => {\n        this.getWeather();\n      });\n    }\n    getWeather(event) {\n      var _this3 = this;\n      //get news again\n      this.sub = this.ds.getWeather(this.lat, this.lon, this.key).subscribe(res => {\n        this.weather = res[0];\n        this.weatherAdd = res[1];\n        this.icon = `https://openweathermap.org/img/wn/${this.weather?.current.weather[0].icon}@2x.png`;\n      }, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator(function* (error) {\n          //หายไปตอนerror\n          yield _this3.loading.dismiss(); //loading\n        });\n        return function (_x2) {\n          return _ref3.apply(this, arguments);\n        };\n      }(), /*#__PURE__*/_asyncToGenerator(function* () {\n        //หายไปตอนสมบูรณ์\n        yield _this3.loading.dismiss();\n      }));\n    }\n    doRefresh(event) {\n      event.target.complete();\n      //refresh ให้ไปget news มาใหม่ ใส่ event หายโหลด\n      //this.getCurrentLocation()\n      this.getCrypAndGold();\n    }\n    ngOnDestroy() {\n      //clear memory\n      // this.sub.unsubscribe();\n      this.sub1.unsubscribe();\n    }\n    openPri() {\n      this.navCtrl.navigateForward(['/pri565k']);\n    }\n    openPriOther() {\n      this.navCtrl.navigateForward(['/priother']);\n    }\n    openCot() {\n      this.navCtrl.navigateForward(['/cot']);\n    }\n    openNsc() {\n      this.navCtrl.navigateForward(['/nsc-select']);\n    }\n    openElectSelect() {\n      this.navCtrl.navigateForward(['/elect-select']);\n    }\n    openIpphoneSelect() {\n      this.navCtrl.navigateForward(['/ipphoneselect']);\n    }\n    openIpphone() {\n      this.navCtrl.navigateForward(['/ipphonestat']);\n    }\n    openIdcSelect() {\n      this.navCtrl.navigateForward(['/idcselect']);\n    }\n    openTT() {\n      this.navCtrl.navigateForward(['/tt']);\n    }\n    openSip() {\n      this.navCtrl.navigateForward(['/siptotal']);\n    }\n    openSpc() {\n      this.navCtrl.navigateForward(['/spc']);\n    }\n    static #_ = this.ɵfac = function HomePage_Factory(t) {\n      return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i1.LoadingController), i0.ɵɵdirectiveInject(i3.Geolocation));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomePage,\n      selectors: [[\"app-home\"]],\n      decls: 53,\n      vars: 2,\n      consts: [[\"slot\", \"start\"], [\"color\", \"grey\"], [\"slot\", \"end\", \"src\", \"./assets/icon/logoNT1.png\"], [\"slot\", \"fixed\", 3, \"ionRefresh\"], [\"pullingIcon\", \"chevron-down-circle-outline\", \"pullingText\", \"Pull to refresh\", \"refreshingSpinner\", \"lines\", \"refreshingText\", \"Refreshing...\"], [\"color\", \"yellow\", 1, \"ion-padding\"], [\"size-sm\", \"4\"], [\"expand\", \"block\", \"color\", \"grey\", 3, \"click\"], [\"slot\", \"start\", \"name\", \"trail-sign\"], [\"slot\", \"start\", \"name\", \"flash\"], [\"slot\", \"start\", \"name\", \"call\"], [\"slot\", \"start\", \"name\", \"chatbox-ellipses\"], [1, \"ion-text-center\"], [\"color\", \"yellow\", 4, \"ngIf\"], [\"color\", \"yellow\", 4, \"ngFor\", \"ngForOf\"], [\"color\", \"yellow\"], [2, \"font\", \"size 1.5em\"], [\"fixed\", \"\", 4, \"ngIf\"], [\"fixed\", \"\"], [\"size-sm\", \"3\"], [3, \"src\", 4, \"ngIf\"], [\"size-sm\", \"5\"], [2, \"font\", \"size 10%\"], [\"color\", \"danger\"], [3, \"src\"]],\n      template: function HomePage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n          i0.ɵɵelement(3, \"ion-menu-button\", 1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(4, \"ion-img\", 2)(5, \"ion-title\", 0);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"ion-content\")(7, \"ion-refresher\", 3);\n          i0.ɵɵlistener(\"ionRefresh\", function HomePage_Template_ion_refresher_ionRefresh_7_listener($event) {\n            return ctx.doRefresh($event);\n          });\n          i0.ɵɵelement(8, \"ion-refresher-content\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"ion-card\", 5)(10, \"ion-card-header\")(11, \"ion-card-title\")(12, \"ion-text\", 1);\n          i0.ɵɵtext(13, \"\\u0E22\\u0E34\\u0E19\\u0E14\\u0E35\\u0E15\\u0E49\\u0E2D\\u0E19\\u0E23\\u0E31\\u0E1A\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"ion-card-subtitle\")(15, \"ion-text\", 1);\n          i0.ɵɵtext(16, \"\\u0E0D\\u0E25\\u0E20\\u0E01.3(\\u0E2B\\u0E0D.)-\\u0E28\\u0E39\\u0E19\\u0E22\\u0E4C\\u0E1B\\u0E0F\\u0E34\\u0E1A\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\\u0E41\\u0E25\\u0E30\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E2A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E31\\u0E0D\\u0E0D\\u0E32\\u0E13\\u0E2B\\u0E32\\u0E14\\u0E43\\u0E2B\\u0E0D\\u0E48\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(17, \"ion-card-content\")(18, \"ion-text\", 1);\n          i0.ɵɵtext(19, \" \\u0E42\\u0E17\\u0E23.074251135,074251136\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(20, \"ion-card\", 5)(21, \"ion-card-header\")(22, \"ion-card-title\")(23, \"ion-text\", 1);\n          i0.ɵɵtext(24, \"Job\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(25, \"ion-card-content\")(26, \"ion-grid\")(27, \"ion-row\")(28, \"ion-col\", 6)(29, \"ion-button\", 7);\n          i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_29_listener() {\n            return ctx.openTT();\n          });\n          i0.ɵɵelement(30, \"ion-icon\", 8);\n          i0.ɵɵelementStart(31, \"p\");\n          i0.ɵɵtext(32, \"\\u0E2A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E31\\u0E0D\\u0E0D\\u0E32\\u0E13\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(33, \"ion-row\")(34, \"ion-col\", 6)(35, \"ion-button\", 7);\n          i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_35_listener() {\n            return ctx.openElectSelect();\n          });\n          i0.ɵɵelement(36, \"ion-icon\", 9);\n          i0.ɵɵelementStart(37, \"p\");\n          i0.ɵɵtext(38, \" \\u0E44\\u0E1F\\u0E1F\\u0E49\\u0E32\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(39, \"ion-row\")(40, \"ion-col\", 6)(41, \"ion-button\", 7);\n          i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_41_listener() {\n            return ctx.openIpphone();\n          });\n          i0.ɵɵelement(42, \"ion-icon\", 10);\n          i0.ɵɵelementStart(43, \"p\");\n          i0.ɵɵtext(44, \"IP-Phone\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(45, \"ion-col\", 6)(46, \"ion-button\", 7);\n          i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_46_listener() {\n            return ctx.openSip();\n          });\n          i0.ɵɵelement(47, \"ion-icon\", 11);\n          i0.ɵɵelementStart(48, \"p\");\n          i0.ɵɵtext(49, \"Sip Trunk\");\n          i0.ɵɵelementEnd()()()()()()();\n          i0.ɵɵelementStart(50, \"div\", 12);\n          i0.ɵɵtemplate(51, HomePage_ion_card_51_Template, 4, 0, \"ion-card\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(52, HomePage_ion_card_52_Template, 2, 1, \"ion-card\", 14);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(51);\n          i0.ɵɵproperty(\"ngIf\", ctx.crypto);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.crypto);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i1.IonButton, i1.IonButtons, i1.IonCard, i1.IonCardContent, i1.IonCardHeader, i1.IonCardSubtitle, i1.IonCardTitle, i1.IonCol, i1.IonContent, i1.IonGrid, i1.IonHeader, i1.IonIcon, i1.IonImg, i1.IonMenuButton, i1.IonRefresher, i1.IonRefresherContent, i1.IonRow, i1.IonText, i1.IonTitle, i1.IonToolbar, i4.DecimalPipe],\n      styles: [\".icon[_ngcontent-%COMP%]{width:200px;position:absolute;margin:auto;inset:0 0 120px}.temp[_ngcontent-%COMP%]{text-align:center;font-size:50px;color:#00f;position:absolute;margin:auto;inset:200px 0 0}.locate[_ngcontent-%COMP%]{color:#00f}.iconh[_ngcontent-%COMP%]{position:absolute;margin:auto;inset:60px 0 0}.temph[_ngcontent-%COMP%]{color:#00f;text-align:center;inset:0 0 200px}.dateh[_ngcontent-%COMP%]{font-size:medium;text-align:center}.dated[_ngcontent-%COMP%]{font-size:small;text-align:left}.tempdmax[_ngcontent-%COMP%]{color:red}.tempdmin[_ngcontent-%COMP%]{color:#00f}.icond[_ngcontent-%COMP%]{position:absolute}.pop[_ngcontent-%COMP%]{color:#6495ed;font-size:small;font-weight:lighter;text-align:center}.btn[_ngcontent-%COMP%]{text-transform:none;border:100em}\"]\n    });\n  }\n  return HomePage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}