{"ast":null,"code":"import _asyncToGenerator from \"E:/Ionic+angular TOTAcademy/OMCHYI/omchyi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as Highcharts from 'highcharts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/data.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\nexport let Covid19Page = /*#__PURE__*/(() => {\n  class Covid19Page {\n    constructor(ds, loadingController) {\n      this.ds = ds;\n      this.loadingController = loadingController;\n    }\n    //เปิดมาดึงข้อมูล\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        //หมุนก่อน subscribe\n        _this.loading = yield _this.loadingController.create({\n          message: 'กำลังโหลด...'\n        });\n        yield _this.loading.present();\n        _this.getCovidToday();\n      })();\n    }\n    getCovidToday(event) {\n      var _this2 = this;\n      //get news again\n      //this.sub1 = this.ds.getCovidToday().subscribe((res:any)=>{\n      this.sub1 = this.ds.getDataCovid().subscribe(res => {\n        //console.log(res)\n        this.covidToday = res[0];\n        this.covidWorld = res[1];\n        //console.log(this.covidByCase)\n        //console.log(this.covidSum?.Gender.Female)\n      }, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (error) {\n          //หายไปตอนerror loading\n          yield _this2.loading.dismiss();\n          //refresher\n          if (event) {\n            event.target.complete();\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(), /*#__PURE__*/_asyncToGenerator(function* () {\n        //หายไปตอนสมบูรณ์ loading\n        yield _this2.loading.dismiss();\n        //refresher\n        if (event) {\n          event.target.complete();\n        }\n      }));\n    }\n    doRefresh(event) {\n      this.getCovidToday(event);\n    }\n    ngOnDestroy() {\n      //clear memory\n      this.sub1.unsubscribe();\n    }\n    ionViewDidEnter() {\n      // this.plotChart();\n    }\n    ionViewWillEnter() {}\n    plotChart() {\n      let myChart = Highcharts.chart('highcharts', {\n        chart: {\n          plotBackgroundColor: null,\n          plotBorderWidth: null,\n          plotShadow: false,\n          type: 'pie'\n        },\n        title: {\n          text: 'ผู้ติดเชื้อ covid-19 ',\n          style: {\n            color: 'red'\n          }\n        },\n        tooltip: {\n          pointFormat: '{series.name}: <b>{point.y:.0f}</b>'\n        },\n        plotOptions: {\n          pie: {\n            allowPointSelect: true,\n            cursor: 'pointer',\n            dataLabels: {\n              enabled: true,\n              format: '<b>{point.name}</b>: {point.percentage:.1f}% ',\n              style: {\n                color: 'blue'\n              }\n            }\n          }\n        },\n        series: [{\n          name: 'จำนวน (คน) ',\n          colorByPoint: true,\n          type: undefined,\n          data: [{\n            name: 'ชาย',\n            y: 1928,\n            sliced: true,\n            selected: true\n          }, {\n            name: 'หญิง',\n            y: 1518\n          }]\n        }]\n      });\n    }\n    static #_ = this.ɵfac = function Covid19Page_Factory(t) {\n      return new (t || Covid19Page)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.LoadingController));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: Covid19Page,\n      selectors: [[\"app-covid19\"]],\n      decls: 112,\n      vars: 43,\n      consts: [[\"slot\", \"start\"], [\"slot\", \"end\", \"src\", \"./assets/icon/logoNT1.jpg\"], [\"slot\", \"fixed\", 3, \"ionRefresh\"], [\"pullingIcon\", \"chevron-down-circle-outline\", \"pullingText\", \"Pull to refresh\", \"refreshingSpinner\", \"lines\", \"refreshingText\", \"Refreshing...\"], [1, \"ion-text-center\"], [\"name\", \"medkit\"], [2, \"font-size\", \"1.2em\"], [\"fixed\", \"\"], [\"size\", \"12\"], [\"color\", \"medium\"], [\"size-sm\", \"6\"], [\"color\", \"danger\"], [\"name\", \"earth\"], [\"color\", \"warning\"], [2, \"font-size\", \"1.5em\"], [\"name\", \"skull\"], [\"name\", \"person-add\"], [\"color\", \"success\"], [\"name\", \"fitness\"], [\"name\", \"body\"], [\"size\", \"6\"], [\"color\", \"light\"], [\"color\", \"orange\"], [\"name\", \"happy\"]],\n      template: function Covid19Page_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n          i0.ɵɵelement(3, \"ion-menu-button\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(4, \"ion-title\")(5, \"ion-img\", 1);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"ion-content\")(7, \"ion-refresher\", 2);\n          i0.ɵɵlistener(\"ionRefresh\", function Covid19Page_Template_ion_refresher_ionRefresh_7_listener($event) {\n            return ctx.doRefresh($event);\n          });\n          i0.ɵɵelement(8, \"ion-refresher-content\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 4);\n          i0.ɵɵelement(10, \"ion-icon\", 5);\n          i0.ɵɵelementStart(11, \"h3\", 6);\n          i0.ɵɵtext(12, \" \\u0E22\\u0E34\\u0E19\\u0E14\\u0E35\\u0E15\\u0E49\\u0E2D\\u0E19\\u0E23\\u0E31\\u0E1A, \");\n          i0.ɵɵelement(13, \"br\");\n          i0.ɵɵtext(14, \" \\u0E2D\\u0E31\\u0E1E\\u0E40\\u0E14\\u0E17\\u0E1C\\u0E39\\u0E49\\u0E15\\u0E34\\u0E14\\u0E40\\u0E0A\\u0E37\\u0E49\\u0E2D\\u0E44\\u0E27\\u0E23\\u0E31\\u0E2A\\u0E42\\u0E04\\u0E42\\u0E23\\u0E19\\u0E32 2019 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"ion-grid\", 7)(16, \"ion-row\")(17, \"ion-col\", 8)(18, \"ion-card\", 9)(19, \"ion-text\")(20, \"p\");\n          i0.ɵɵtext(21);\n          i0.ɵɵpipe(22, \"date\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(23, \"ion-col\", 10)(24, \"ion-card\", 11);\n          i0.ɵɵelement(25, \"ion-icon\", 12);\n          i0.ɵɵelementStart(26, \"h6\");\n          i0.ɵɵtext(27, \"\\u0E17\\u0E31\\u0E48\\u0E27\\u0E42\\u0E25\\u0E01 :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"ion-text\", 13)(29, \"h1\", 14);\n          i0.ɵɵtext(30);\n          i0.ɵɵpipe(31, \"number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"p\");\n          i0.ɵɵtext(33);\n          i0.ɵɵpipe(34, \"number\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(35, \"ion-col\", 10)(36, \"ion-card\", 13);\n          i0.ɵɵelement(37, \"ion-icon\", 15);\n          i0.ɵɵelementStart(38, \"h6\");\n          i0.ɵɵtext(39, \"\\u0E17\\u0E31\\u0E48\\u0E27\\u0E42\\u0E25\\u0E01\\u0E40\\u0E2A\\u0E35\\u0E22\\u0E0A\\u0E35\\u0E27\\u0E34\\u0E15 :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"ion-text\", 11)(41, \"h1\", 14);\n          i0.ɵɵtext(42);\n          i0.ɵɵpipe(43, \"number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"p\");\n          i0.ɵɵtext(45);\n          i0.ɵɵpipe(46, \"number\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(47, \"ion-row\")(48, \"ion-col\", 10)(49, \"ion-card\", 11);\n          i0.ɵɵelement(50, \"ion-icon\", 16);\n          i0.ɵɵelementStart(51, \"h6\");\n          i0.ɵɵtext(52, \"\\u0E44\\u0E17\\u0E22 :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"ion-text\", 13)(54, \"h1\", 14);\n          i0.ɵɵtext(55);\n          i0.ɵɵpipe(56, \"number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(57, \"p\");\n          i0.ɵɵtext(58);\n          i0.ɵɵpipe(59, \"number\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(60, \"ion-col\", 10)(61, \"ion-card\", 13);\n          i0.ɵɵelement(62, \"ion-icon\", 15);\n          i0.ɵɵelementStart(63, \"h6\");\n          i0.ɵɵtext(64, \"\\u0E40\\u0E2A\\u0E35\\u0E22\\u0E0A\\u0E35\\u0E27\\u0E34\\u0E15 :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(65, \"ion-text\", 11)(66, \"h1\", 14);\n          i0.ɵɵtext(67);\n          i0.ɵɵpipe(68, \"number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(69, \"p\");\n          i0.ɵɵtext(70);\n          i0.ɵɵpipe(71, \"number\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(72, \"ion-row\")(73, \"ion-col\", 10)(74, \"ion-card\", 17);\n          i0.ɵɵelement(75, \"ion-icon\", 18);\n          i0.ɵɵelementStart(76, \"h6\");\n          i0.ɵɵtext(77, \"\\u0E2B\\u0E32\\u0E22\\u0E41\\u0E25\\u0E49\\u0E27 :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(78, \"ion-text\", 13)(79, \"h1\", 14);\n          i0.ɵɵtext(80);\n          i0.ɵɵpipe(81, \"number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(82, \"p\");\n          i0.ɵɵtext(83);\n          i0.ɵɵpipe(84, \"number\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(85, \"ion-col\", 10)(86, \"ion-card\", 17);\n          i0.ɵɵelement(87, \"ion-icon\", 19);\n          i0.ɵɵelementStart(88, \"h6\");\n          i0.ɵɵtext(89, \"\\u0E1C\\u0E39\\u0E49\\u0E1B\\u0E48\\u0E27\\u0E22\\u0E27\\u0E34\\u0E01\\u0E24\\u0E15\\u0E34 :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(90, \"ion-text\", 13)(91, \"h1\", 14);\n          i0.ɵɵtext(92);\n          i0.ɵɵpipe(93, \"number\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(94, \"ion-col\", 20)(95, \"ion-card\", 17);\n          i0.ɵɵelement(96, \"ion-icon\", 5);\n          i0.ɵɵelementStart(97, \"h6\");\n          i0.ɵɵtext(98, \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E23\\u0E31\\u0E01\\u0E29\\u0E32 :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(99, \"ion-text\", 21)(100, \"h1\", 14);\n          i0.ɵɵtext(101);\n          i0.ɵɵpipe(102, \"number\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(103, \"ion-col\", 20)(104, \"ion-card\", 22);\n          i0.ɵɵelement(105, \"ion-icon\", 23);\n          i0.ɵɵelementStart(106, \"h6\");\n          i0.ɵɵtext(107, \"\\u0E17\\u0E14\\u0E2A\\u0E2D\\u0E1A\\u0E41\\u0E25\\u0E49\\u0E27 :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(108, \"ion-text\", 21)(109, \"h1\", 14);\n          i0.ɵɵtext(110);\n          i0.ɵɵpipe(111, \"number\");\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(21);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(22, 14, ctx.covidToday == null ? null : ctx.covidToday.updated, \"medium\"));\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 17, ctx.covidWorld == null ? null : ctx.covidWorld.cases));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"(+\", i0.ɵɵpipeBind1(34, 19, ctx.covidWorld == null ? null : ctx.covidWorld.todayCases), \")\");\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(43, 21, ctx.covidWorld == null ? null : ctx.covidWorld.deaths));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"(+\", i0.ɵɵpipeBind1(46, 23, ctx.covidWorld == null ? null : ctx.covidWorld.todayDeaths), \")\");\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(56, 25, ctx.covidToday == null ? null : ctx.covidToday.cases));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"(+\", i0.ɵɵpipeBind1(59, 27, ctx.covidToday == null ? null : ctx.covidToday.todayCases), \")\");\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(68, 29, ctx.covidToday == null ? null : ctx.covidToday.deaths));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"(+\", i0.ɵɵpipeBind1(71, 31, ctx.covidToday == null ? null : ctx.covidToday.todayDeaths), \")\");\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(81, 33, ctx.covidToday == null ? null : ctx.covidToday.recovered));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"(+\", i0.ɵɵpipeBind1(84, 35, ctx.covidToday == null ? null : ctx.covidToday.todayRecovered), \")\");\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(93, 37, ctx.covidToday == null ? null : ctx.covidToday.critical));\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(102, 39, ctx.covidToday == null ? null : ctx.covidToday.active));\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(111, 41, ctx.covidToday == null ? null : ctx.covidToday.tests));\n        }\n      },\n      dependencies: [i2.IonButtons, i2.IonCard, i2.IonCol, i2.IonContent, i2.IonGrid, i2.IonHeader, i2.IonIcon, i2.IonImg, i2.IonMenuButton, i2.IonRefresher, i2.IonRefresherContent, i2.IonRow, i2.IonText, i2.IonTitle, i2.IonToolbar, i3.DecimalPipe, i3.DatePipe],\n      styles: [\"ion-icon[_ngcontent-%COMP%]{font-size:3em}\"]\n    });\n  }\n  return Covid19Page;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}